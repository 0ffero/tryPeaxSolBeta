"use strict";vars.update={hue:27,hueMin:27,hueMax:60,reverse:!1,tick:()=>{vars.DEBUG?vars.debug.update():null,scene.containers.mainScreen.visible&&!scene.containers.splashScreen.visible&&vars.update.updateMainScreenButtons();let a=vars.containers;if(a.looping||1!==scene.containers.mainScreen.alpha?null:a.looping=!0,vars.scrollers.available){let a=vars.scrollers.available;for(let b in a)a[b].update()}if(vars.game.deal?vars.game.deal.update():null,"mainScreen"===a.current)vars.particles.available.letterSparkle.active?null:vars.particles.available.letterSparkle.setActive(!0),vars.mainScreen.cardSuitParticlesUpdate();else{if(!vars.particles.available.letterSparkle)return!1;vars.particles.available.letterSparkle.pause(),vars.particles.available.letterSparkle.emitters.list[0].killAll()}if(scene.containers.optionsScreen.visible&&vars.music.playing?vars.update.updateTrackBar():null,vars.game.unlockables&&vars.game.unlockables.lbeVars&&vars.game.unlockables.lbeVars.enabled?vars.game.unlockables.scrollUpdate():null,a.waitingToPlayLoop.includes(a.current)&&!a.ignoreLoop){if(a.pauseTime)return void a.pauseTime--;if(a.paused&&!a.pauseTime?a.paused=!1:null,a.waitingTimeOut?a.waitingTimeOut--:null,a.waitingTimeOut)return;a.waitingTimeOut="mainScreen"===a.current?a.waitingTimeOutMax/2:a.waitingTimeOutMax;let b=a.waitingToPlayLoop.slice(-1)[0];b=a.getByName(b),"mainScreen"===b.name?vars.particles.suitShapeDisableAll():vars.particles.cardSuitsEnabled=!0,a.ignoreLoop=!0,scene.tweens.add({targets:b,alpha:0,duration:1e3,onComplete:(a,b)=>{if(!vars.containers.looping)return!1;b[0].setVisible(!1);let c=vars.containers,d=c.waitingToPlayLoop.shift();return c.waitingToPlayLoop.push(d),!c.pausedByUser&&void(d=c.getByName(d),d.setVisible(!0).setAlpha(0),scene.tweens.add({targets:d,alpha:1,duration:1e3,onComplete:()=>{vars.containers.ignoreLoop=!1,vars.containers.current=vars.containers.waitingToPlayLoop.slice(-1)[0]}}))}})}},tintMainScreenButtons:a=>{let b=Phaser.Display.Color.HSLToColor(a/360,1,.5).color,c=scene.containers.mainScreen;["newGame","hiScores","options","buy"].forEach(a=>{c.getByName(`MST_${a}Text`).setTint(b)})},updateMainScreenButtons:()=>{let a=vars.update;a.hue+1<a.hueMax&&!a.reverse?a.hue+=.1:a.hue-1>a.hueMin&&a.reverse?a.hue-=.1:a.reverse=!a.reverse,a.tintMainScreenButtons(a.hue)},updateTrackBar:(a=!1)=>{let b=vars.containers.getByName("optionsScreen").getByName("playingTrackBar"),c=b.getData("maxWH");if(a)return b.setCrop(0,0,0,c[1]),!0;let d=vars.music.playing,e=d.seek%d.duration/d.duration;return b.setCrop(0,0,c[0]*e,c[1]),!0}};